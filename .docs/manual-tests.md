# Ручное тестирование BeKesher

> После запуска `npm run seed` база содержит тестовые данные для всех сценариев ниже.
> Bypass-токены для пользователей: `dev-token-anna` (Центр), `dev-token-igor` (Север), `dev-token-svetlana` (Юг), `dev-token-lead` (Lead).

---

## A. Сезоны (Админ)

- [ ] Открыть страницу «Сезоны» — видны 3 сезона (Активный, Завершённый, Черновик)
- [ ] Создать новый сезон (Черновик) — заполнить имя, описание, даты
- [ ] Активировать черновик «Весенний сезон 2026» — статус меняется на Active
- [ ] Убедиться, что нельзя активировать второй сезон (если один уже активен)
- [ ] Завершить активный сезон — статус меняется на Completed

## B. Участники (Админ)

- [ ] Открыть страницу «Участники» — видны 20 участников
- [ ] Фильтр по статусу: Active (15), Lead (3), Inactive (2)
- [ ] Проверить, что Мария Волкова помечена как «на паузе»
- [ ] Изменить статус участника Lead → Active
- [ ] Изменить статус участника Active → Inactive
- [ ] Убедиться, что у участника отображаются правильные баллы

## C. Зачисление в сезон (Админ)

- [ ] Открыть активный сезон — видны 15 зачислений (14 Enrolled + 1 Paused)
- [ ] Зачислить нового участника (из Lead, после перевода в Active)
- [ ] Перевести зачисление в статус Paused
- [ ] Перевести зачисление в статус Dropped
- [ ] Убедиться, что участник на паузе не попадает в матчинг

## D. Назначение заданий (Админ)

- [ ] Открыть страницу «Назначения» — видны активные группы недели 2
- [ ] У Группы G (Юг) нет задания — назначить задание из списка
- [ ] Убедиться, что задание появилось у группы
- [ ] Попробовать назначить задание группе, у которой уже есть задание — проверить поведение

## E. Проверка заданий (Админ)

- [ ] Открыть страницу «Проверка» — видны задания со статусами Pending и Revision
- [ ] Группа F (Игорь + Алексей): отчёт подан, статус Pending — одобрить (Approved)
- [ ] Убедиться, что баллы начислены участникам после одобрения
- [ ] Группа H (Михаил + Наталья): статус Revision — проверить, что виден комментарий админа
- [ ] После повторной подачи отчёта — одобрить или отклонить
- [ ] Проверить фильтрацию по статусу (Pending / Approved / Revision / Rejected / NotCompleted)

## F. Задания (Админ)

- [ ] Открыть страницу «Задания» — видны 5 заданий (4 Active + 1 Archive)
- [ ] Создать новое задание — заполнить все поля (название, описание, инструкции, тип, сложность, цель)
- [ ] Отредактировать существующее задание
- [ ] Перевести задание в архив (Archive)
- [ ] Убедиться, что архивные задания не предлагаются для назначения

## G. Матчинг (Админ)

- [ ] Открыть страницу «Матчинг»
- [ ] Запустить матчинг вручную — убедиться, что:
  - Участники на паузе не попадают в группы
  - Lead и Inactive не попадают в группы
  - Группы формируются по регионам (Север, Центр, Юг)
  - Размер группы 2-4 человека
- [ ] Проверить, что новые группы привязаны к активному сезону и текущей неделе
- [ ] Убедиться, что участники из активных групп не матчатся повторно

## H. Группы (Админ)

- [ ] Открыть страницу «Группы» — видны 8 групп
- [ ] Фильтр по статусу: Active (4), Completed (4)
- [ ] Проверить, что в каждой группе отображаются имена участников
- [ ] Проверить, что видны регион и неделя сезона

## I. Обратная связь (Админ)

- [ ] Открыть страницу «Обратная связь» — видны 4 записи
- [ ] Проверить, что отображаются оценки, текст и имена участников
- [ ] Проверить сортировку по дате

## J. Поддержка (Админ)

- [ ] Открыть страницу «Поддержка» — видны 2 тикета (1 Open + 1 Answered)
- [ ] Ответить на открытый тикет (Елена: «Как поменять регион?»)
- [ ] Убедиться, что статус изменился на Answered
- [ ] Закрыть тикет — статус Closed

---

## K. Главная страница (Пользователь)

- [ ] Войти как Анна (dev-token-anna) — видна активная группа (Давид, Елена)
- [ ] Видна информация о текущем сезоне
- [ ] Войти как Lead (dev-token-lead) — перенаправление на онбординг
- [ ] Убедиться, что у участника без активной группы отображается соответствующее сообщение

## L. Профиль (Пользователь)

- [ ] Открыть профиль Анны — проверить все поля (имя, телефон, регион, город, профессия, о себе)
- [ ] Отредактировать поле «О себе» — сохранить и проверить
- [ ] Проверить отображение баллов (30 очков)
- [ ] Проверить, что регион и город отображаются корректно

## M. Группы (Пользователь)

- [ ] Открыть страницу групп — видны текущая и прошлые группы
- [ ] Текущая группа (неделя 2): Анна + Давид + Елена
- [ ] Прошлая группа (неделя 1): Анна + Михаил + Елена
- [ ] В активной группе видны телефоны и Telegram участников

## N. Задания (Пользователь)

- [ ] Открыть страницу задания как Анна — видно задание «Разговор о мечтах» (Pending)
- [ ] Отправить отчёт: текст + (опционально) фото
- [ ] Убедиться, что статус изменился
- [ ] Войти как Игорь (dev-token-igor) — задание «Совместная прогулка», отчёт уже подан
- [ ] Войти как Светлана (dev-token-svetlana) — группе G не назначено задание, проверить сообщение

## O. Обратная связь (Пользователь)

- [ ] Открыть форму обратной связи для завершённой группы
- [ ] Заполнить: оценка (1-5), текст, «встретились бы снова?»
- [ ] Отправить и убедиться, что начислены +10 баллов
- [ ] Проверить, что нельзя оставить отзыв повторно для той же группы

## P. Поддержка (Пользователь)

- [ ] Открыть страницу поддержки
- [ ] Создать новый тикет — ввести вопрос
- [ ] Проверить, что тикет создан со статусом Open
- [ ] Проверить, что видны ранее созданные тикеты и ответы

## Q. Пауза (Пользователь)

- [ ] Войти как любой Active-участник
- [ ] Включить паузу — убедиться, что onPause = true
- [ ] Убедиться, что участник на паузе не попадает в матчинг
- [ ] Снять паузу — onPause = false

---

## R. Крайние случаи

- [ ] Участник без активного сезона — проверить, что отображается корректное сообщение
- [ ] Участник не зачислен в сезон — проверить поведение
- [ ] Группа без назначенного задания — страница задания показывает «нет задания»
- [ ] Попытка отправить пустой отчёт — валидация
- [ ] Сезон без участников — матчинг не падает с ошибкой
- [ ] Два участника в одном регионе при матчинге — формируется пара
- [ ] Нечётное количество участников — проверить, что формируется группа из 3
